<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1641px" height="1296px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&quot; version=&quot;7.7.1&quot; editor=&quot;www.draw.io&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;45865444-c582-b4a4-13f9-f802193795bf&quot; name=&quot;server&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://www.draw.io/#HRaggamote%2Fchapp%2Fmaster%2Fdescription%2FDiagram.svg" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-139-479-272-54-0"><rect x="139" y="479" width="272" height="54"/></clipPath><clipPath id="mx-clip-139-541-272-52-0"><rect x="139" y="541" width="272" height="52"/></clipPath><clipPath id="mx-clip-140-594-270-38-0"><rect x="140" y="594" width="270" height="38"/></clipPath><clipPath id="mx-clip-139-633-272-70-0"><rect x="139" y="633" width="272" height="70"/></clipPath><clipPath id="mx-clip-199-352-152-26-0"><rect x="199" y="352" width="152" height="26"/></clipPath><clipPath id="mx-clip-384-352-192-26-0"><rect x="384" y="352" width="192" height="26"/></clipPath><clipPath id="mx-clip-993-324-342-104-0"><rect x="993" y="324" width="342" height="104"/></clipPath><clipPath id="mx-clip-993-436-342-42-0"><rect x="993" y="436" width="342" height="42"/></clipPath><clipPath id="mx-clip-994-479-340-98-0"><rect x="994" y="479" width="340" height="98"/></clipPath><clipPath id="mx-clip-1098-133-132-26-0"><rect x="1098" y="133" width="132" height="26"/></clipPath><clipPath id="mx-clip-1098-159-132-26-0"><rect x="1098" y="159" width="132" height="26"/></clipPath><clipPath id="mx-clip-1484-404-152-54-0"><rect x="1484" y="404" width="152" height="54"/></clipPath><clipPath id="mx-clip-1484-466-152-32-0"><rect x="1484" y="466" width="152" height="32"/></clipPath><clipPath id="mx-clip-814-824-232-26-0"><rect x="814" y="824" width="232" height="26"/></clipPath><clipPath id="mx-clip-814-858-232-60-0"><rect x="814" y="858" width="232" height="60"/></clipPath><clipPath id="mx-clip-359-825-302-34-0"><rect x="359" y="825" width="302" height="34"/></clipPath><clipPath id="mx-clip-359-862-302-80-0"><rect x="359" y="862" width="302" height="80"/></clipPath><clipPath id="mx-clip-364-31-143-46-0"><rect x="364" y="31" width="143" height="46"/></clipPath><clipPath id="mx-clip-744-31-143-54-0"><rect x="744" y="31" width="143" height="54"/></clipPath><clipPath id="mx-clip-164-31-132-26-0"><rect x="164" y="31" width="132" height="26"/></clipPath><clipPath id="mx-clip-164-57-132-26-0"><rect x="164" y="57" width="132" height="26"/></clipPath><clipPath id="mx-clip-164-138-132-26-0"><rect x="164" y="138" width="132" height="26"/></clipPath><clipPath id="mx-clip-594-1030-322-44-0"><rect x="594" y="1030" width="322" height="44"/></clipPath><clipPath id="mx-clip-595-1083-320-36-0"><rect x="595" y="1083" width="320" height="36"/></clipPath><clipPath id="mx-clip-595-1121-320-70-0"><rect x="595" y="1121" width="320" height="70"/></clipPath></defs><g transform="translate(0.5,0.5)"><rect x="135" y="448" width="280" height="280" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 135 474 L 135 448 L 415 448 L 415 474 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="274.5" y="466.5">Group</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-139-479-272-54-0)" font-size="12px"><text x="140.5" y="491.5">+ id : int</text><text x="140.5" y="505.5">+ name : string</text><text x="140.5" y="519.5">-Â  users_by_id : Map&lt;int, User*&gt;</text></g><path d="M 135 532 L 415 532" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-139-541-272-52-0)" font-size="12px"><text x="140.5" y="553.5">- add_user(uid)</text><text x="140.5" y="567.5">- remove_user(uid)</text><text x="140.5" y="581.5">- has_user(uid)</text></g><rect x="135" y="588" width="280" height="40" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-style="italic" clip-path="url(#mx-clip-140-594-270-38-0)" font-size="12px"><text x="141.5" y="606.5">- gen_hash(uid) : phash</text><text x="141.5" y="620.5">- check_hash(uid, hash) : bool</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-139-633-272-70-0)" font-size="12px"><text x="140.5" y="645.5">+ broadcast(uid, msg)</text><text x="140.5" y="659.5">+ invite(curr_uid, new_uid) : bool</text><text x="140.5" y="673.5">+ join(uid, hash) : bool</text><text x="140.5" y="687.5">+ leave(uid) : bool</text></g><rect x="135" y="698" width="280" height="30" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><g transform="translate(137.5,705.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="266" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">+ list_users(uid) : RPCRes&lt;RPCVect&lt;MiniUser&gt;&gt;</div></div></foreignObject><text x="133" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">+ list_users(uid) : RPCRes&amp;lt;RPCVect&amp;lt;MiniUser&amp;gt;&amp;gt;</text></switch></g><path d="M 275 381 L 275 436.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 275 446.88 L 270 436.88 L 280 436.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="195" y="321" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 195 347 L 195 321 L 355 321 L 355 347 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="274.5" y="339.5">ProtectedGroup</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-199-352-152-26-0)" font-size="12px"><text x="200.5" y="364.5">- password_hash : phash</text></g><path d="M 195 377 L 355 377" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 80 364 L 80 411 L 275 411 L 275 436.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 275 446.88 L 270 436.88 L 280 436.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="0" y="330" width="160" height="34" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 0 356 L 0 330 L 160 330 L 160 356 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="79.5" y="348.5">PublicGroup</text></g><path d="M 0 360 L 160 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 480 381 L 480 411 L 275 411 L 275 436.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 275 446.88 L 270 436.88 L 280 436.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="380" y="321" width="200" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 380 347 L 380 321 L 580 321 L 580 347 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="479.5" y="339.5">PrivateGroup</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-384-352-192-26-0)" font-size="12px"><text x="385.5" y="364.5">- invite_hash : phash</text></g><path d="M 380 377 L 580 377" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1164 293 L 1164 190.99" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1164 180.99 L 1166.94 185.99 L 1164 190.99 L 1161.06 185.99 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="989" y="293" width="350" height="280" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 989 319 L 989 293 L 1339 293 L 1339 319 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1163.5" y="311.5">User</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-993-324-342-104-0)" font-size="12px"><text x="994.5" y="336.5">-Â  pass_hash</text><text x="994.5" y="350.5">+ id</text><text x="994.5" y="364.5">+ username</text><text x="994.5" y="392.5">- invites_by_gid : Map&lt;int, Invite&gt;</text><text x="994.5" y="406.5">- last_activity : timestamp</text><text x="994.5" y="420.5">- session : Session</text></g><path d="M 989 427 L 1339 427" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-993-436-342-42-0)" font-size="12px"><text x="994.5" y="448.5">+ deliver_message(msg) : void</text><text x="994.5" y="462.5">+ check_hash(hash) : bool</text></g><rect x="989" y="473" width="350" height="100" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-994-479-340-98-0)" font-size="12px"><text x="995.5" y="491.5">- send_message(gid, msg) : RPCRes&lt;RPCBool&gt;</text><text x="995.5" y="505.5">- join_group(gid, hash) : RPCRes&lt;RPCBool&gt;</text><text x="995.5" y="519.5">- leave_group(gid) : RPCRes&lt;RPCBool&gt;</text><text x="995.5" y="533.5">- invite_user(gid, uid) : RPCRes&lt;RPCBool&gt;</text><text x="995.5" y="547.5">- list_groups(invites : bool) : RPCRes&lt;RPCVect&lt;MiniGroup&gt;&gt;</text><text x="995.5" y="561.5">- create_group(minigrp) : RPCRes&lt;MiniGroup&gt;</text></g><rect x="1094" y="102" width="140" height="78" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1094 128 L 1094 102 L 1234 102 L 1234 128 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1163.5" y="119.5">GroupInvite</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1098-133-132-26-0)" font-size="12px"><text x="1099.5" y="145.5">+ hash : phash</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1098-159-132-26-0)" font-size="12px"><text x="1099.5" y="171.5">+ group : MiniGroupÂ </text></g><path d="M 1469.01 433 L 1460 433 L 1349.99 433" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1479.01 433 L 1474.01 435.94 L 1469.01 433 L 1474.01 430.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1339.99 433 L 1344.99 430.06 L 1349.99 433 L 1344.99 435.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="1480" y="373" width="160" height="120" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1480 399 L 1480 373 L 1640 373 L 1640 399 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1559.5" y="391.5">Session</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1484-404-152-54-0)" font-size="12px"><text x="1485.5" y="416.5">- encryption_key</text><text x="1485.5" y="430.5">- user : User</text><text x="1485.5" y="444.5">- socket</text></g><path d="M 1480 457 L 1640 457" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1484-466-152-32-0)" font-size="12px"><text x="1485.5" y="478.5">+ send_serialized(RPCMsg)</text></g><rect x="810" y="793" width="240" height="120" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 810 819 L 810 793 L 1050 793 L 1050 819 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="929.5" y="811.5">UserFactory</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-814-824-232-26-0)" font-size="12px"><text x="815.5" y="836.5">+ users_by_id : Map&lt;int, User&gt;</text></g><path d="M 810 849 L 1050 849" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-814-858-232-60-0)" font-size="12px"><text x="815.5" y="870.5">+ by_id(uid) : User *</text><text x="815.5" y="884.5">+ construct(uid, hash, username) : User *</text><text x="815.5" y="898.5">+ create(session, username) : User *</text></g><path d="M 510 783.01 L 510 761 L 275 761 L 275 728" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 793.01 L 507.06 788.01 L 510 783.01 L 512.94 788.01 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="355" y="794" width="310" height="148" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 355 820 L 355 794 L 665 794 L 665 820 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="509.5" y="812.5">GroupFactory</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-359-825-302-34-0)" font-size="12px"><text x="360.5" y="837.5">- cached_groups : Map&lt;int, pair&lt;Group*, time_t&gt;</text><text x="360.5" y="851.5">- db_connect : Database *</text></g><path d="M 355 858 L 665 858" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-359-862-302-80-0)" font-size="12px"><text x="360.5" y="877.5">+ by_id(gid) : Group *</text><text x="360.5" y="891.5">+ remove(gid, fromDB)</text><text x="360.5" y="905.5">-Â  moderateCachedGroups()</text><text x="360.5" y="919.5">+ construct(gid, hash, type, vector&lt;uid&gt;) : Group *</text><text x="360.5" y="933.5">+ create(type, hash, uid) : Group *</text></g><path d="M 900 782.01 L 900 762 L 1165 762 L 1165 573" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 900 792.01 L 897.06 787.01 L 900 782.01 L 902.94 787.01 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="360" y="2" width="151" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 360 26 L 360 2 L 511 2 L 511 26 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="435" y="18.5">MiniUser</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-364-31-143-46-0)" font-size="12px"><text x="365.5" y="43.5">+ id : int</text><text x="365.5" y="57.5">+ username : string</text></g><rect x="570" y="2" width="110" height="97" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(570.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="95" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; height: 96px; overflow: hidden; width: 109px; white-space: normal; word-wrap: normal; text-align: center;"><p style="margin: 0px ; margin-top: 4px ; text-align: center">&lt;&lt;enumeration&gt;&gt;<br /><b>GroupType</b></p><hr /><p style="margin: 0px ; margin-left: 8px ; text-align: left">Public</p><p style="margin: 0px ; margin-left: 8px ; text-align: left">Protected<br />Private</p></div></foreignObject><text x="54" y="54" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="740" y="2" width="151" height="78" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 740 26 L 740 2 L 891 2 L 891 26 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="815" y="18.5">MiniGroup</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-744-31-143-54-0)" font-size="12px"><text x="745.5" y="43.5">+ id : int</text><text x="745.5" y="57.5">+ name : string</text><text x="745.5" y="71.5">+ type : GroupType</text></g><rect x="160" y="0" width="140" height="78" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 160 26 L 160 0 L 300 0 L 300 26 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="229.5" y="17.5">Message</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-164-31-132-26-0)" font-size="12px"><text x="165.5" y="43.5">+ from_uid : int</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-164-57-132-26-0)" font-size="12px"><text x="165.5" y="69.5">+ to_gid : int</text></g><path d="M 230 107 L 230 87 L 230 98 L 230 89.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 79.12 L 235 89.12 L 225 89.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="160" y="107" width="140" height="52" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 160 133 L 160 107 L 300 107 L 300 133 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="229.5" y="124.5">TextMessage</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-164-138-132-26-0)" font-size="12px"><text x="165.5" y="150.5">+ text : string</text></g><rect x="590" y="1004" width="330" height="288" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 590 1030 L 590 1004 L 920 1004 L 920 1030 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="754.5" y="1022.5">Database [singletone]</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-594-1030-322-44-0)" font-size="12px"><text x="595.5" y="1048.5">-Â  cpp_redis::client client;</text><text x="595.5" y="1062.5">-Â  enum {Â GROUP,Â USERÂ }</text></g><path d="M 590 1078 L 920 1078" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="590" y="1082" width="330" height="38" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-595-1083-320-36-0)" font-size="12px"><text x="596.5" y="1097.5">-Â  incrementNowId(TypeOfId) : id</text><text x="596.5" y="1111.5">-Â  userInGroupConcat(gid) : string</text></g><rect x="590" y="1120" width="330" height="72" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-595-1121-320-70-0)" font-size="12px"><text x="596.5" y="1138.5">+ addGroup(GroupType, gname, hash) : gid</text><text x="596.5" y="1152.5">+ getListOfGroups() : map&lt;gid, pair&lt;gname, GroupType&gt;&gt;</text><text x="596.5" y="1166.5">+ deleteGroup(gid)</text><text x="596.5" y="1180.5">+ getGroupInfoById(gid) : tuple&lt;GroupType, gname, hash&gt;</text></g><g transform="translate(595.5,1198.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="232" height="82" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 96px; max-width: 318px; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div><div>+ addUser(uname) : uid<br />+ deleteUser(uid)<br />+ getUserNameById(uid) : uname<br />+ addUserToGroup(uid, gid)<br />+ deleteUserFromGroup(uid, gid)<br />+ getUsersInGroup(gid) : map&lt;uid, uname&gt;<br /></div></div></div></div></foreignObject><text x="116" y="47" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 510 954.99 L 510 972 L 673 972 L 673 1004" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 942.99 L 513.53 948.99 L 510 954.99 L 506.47 948.99 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 930 925.99 L 930 962 L 838 962 L 838 1004" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 930 913.99 L 933.53 919.99 L 930 925.99 L 926.47 919.99 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>